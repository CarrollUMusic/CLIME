#N canvas 856 130 310 206 10;
#X declare -path internals;
#N canvas 187 258 992 621 internals 0;
#X obj 28 129 slicerec~ \$0-audio;
#X obj 276 43 table \$0-audio 262147;
#X obj 36 47 *~ 0;
#X obj 21 18 adc~;
#X obj 597 39 loadbang;
#X obj 173 185 % 8;
#X obj 170 210 == 0;
#X obj 172 236 sel 1;
#X obj 213 210 == 0;
#X obj 215 236 sel 1;
#X obj 216 185 % 4;
#X obj 272 214 == 0;
#X obj 274 240 sel 1;
#X obj 275 188 % 2;
#X obj 174 345 sliceplay~ \$0-audio;
#N canvas 650 394 213 314 cuepoints 0;
#X obj 22 285 outlet;
#X obj 49 165 tabread \$0-cuepoints;
#X obj 22 208 tabread \$0-cuepoints;
#X obj 22 253 pack;
#X obj 49 115 * 2;
#X obj 49 139 + 1;
#X obj 22 139 f;
#X obj 22 90 t b f;
#X text 55 60 randomly select a slice;
#X obj 22 16 inlet;
#X obj 24 41 cycle 16 32;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X restore 216 323 pd cuepoints;
#X obj 430 505 dac~;
#X obj 425 475 *~;
#X msg 445 382 \$1 20;
#X obj 444 408 line~;
#X obj 317 332 sliceplay~ \$0-audio;
#N canvas 650 394 213 314 cuepoints 0;
#X obj 22 285 outlet;
#X obj 49 165 tabread \$0-cuepoints;
#X obj 22 208 tabread \$0-cuepoints;
#X obj 22 253 pack;
#X obj 49 115 * 2;
#X obj 49 139 + 1;
#X obj 22 139 f;
#X obj 22 90 t b f;
#X text 55 60 randomly select a slice;
#X obj 22 16 inlet;
#X obj 22 41 cycle 16 32;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X restore 363 305 pd cuepoints;
#N canvas 144 352 795 485 slicerec~parameters 0;
#X floatatom 140 380 3 0 0 0 - - -, f 3;
#X floatatom 256 382 3 0 0 0 - - -, f 3;
#X floatatom 370 382 5 0 0 0 - - -, f 5;
#X obj 133 354 hsl 80 15 60 90 0 0 empty attackthresh deciBel 20 8
0 10 -262144 -258113 -1 0 0;
#X obj 249 354 hsl 80 15 40 60 0 0 empty silencethresh deciBel 20 8
0 10 -262144 -258113 -1 5925 0;
#X obj 364 357 hsl 80 15 100 1000 0 0 empty timeconstant milliseconds
4 8 0 10 -262144 -258113 -1 1466 0;
#X obj 24 354 hsl 80 15 1 10 0 0 empty attackstep deciBel 20 8 0 10
-262144 -258113 -1 1756 0;
#X floatatom 32 378 3 0 0 0 - - -, f 3;
#X msg 21 407 attackstep \$1;
#X msg 130 407 attackthresh \$1;
#X msg 246 407 silencethresh \$1;
#X msg 361 407 timeconstant \$1;
#X obj 424 18 loadbang;
#X text 537 72 object defaults;
#X text 17 14 attackstep is the difference in deciBel between amplitude
peak envelope and the current amplitude \, required for an attack detection.
For example \, if attackstep is set at 6 deciBel \, an attack is detected
when the amplitude suddenly doubles.;
#X text 17 93 attackthresh is the amplitude threshold in deciBel which
must be exceeded before an attack can be detected. Unity amplitude
is mapped to 100 deciBel. This mapping is customary in Pure Data objects
like [env~]. When the signal amplitude passes both the attackstep and
attackthresh test \, recording is continued or resumed from pause \,
and the current timeindex of the circular recording buffer is issued
as a cuepoint from the left inlet.;
#X text 18 294 timeconstant is the period in milliseconds from which
the decay ratio of the amplitude peak envelope is calculated.;
#X msg 425 288 draw;
#X msg 476 288 reset;
#X obj 130 454 outlet;
#X text 423 132 draw will make slicerec~ stop recording and (re)draw
a graphical array \, like tabwrite~ does at the end of an array.;
#X text 423 228 draw and reset messages are intended for test and debug
purposes \, but they are probably not useful in musical situations.
;
#X text 423 173 reset will force the time index of slicerec~ to zero
and recording starts or continues at the beginning of the table or
array.;
#X text 521 288 without numerical arguments;
#X text 17 211 silencethresh is an amplitude threshold in deciBels.
When the peak envelope decreases below this level \, recording is paused
\, and the current time index is issued as a cuepoint from the middle
outlet. If this parameter is set too low \, a slice will never end
unless a new attack is detected.;
#X msg 424 43 \; attackstep 3 \; attackthresh 60 \; silencethresh 55
\; timeconstant 267 \;;
#X connect 3 0 0 0;
#X connect 3 0 9 0;
#X connect 4 0 1 0;
#X connect 4 0 10 0;
#X connect 5 0 2 0;
#X connect 5 0 11 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 25 0;
#X restore 89 101 pd slicerec~parameters;
#X obj 356 257 sliceplay~ \$0-audio;
#N canvas 648 425 213 314 cuepoints 0;
#X obj 22 285 outlet;
#X obj 49 165 tabread \$0-cuepoints;
#X obj 22 208 tabread \$0-cuepoints;
#X obj 22 253 pack;
#X obj 49 115 * 2;
#X obj 49 139 + 1;
#X obj 22 139 f;
#X obj 22 90 t b f;
#X text 55 60 randomly select a slice;
#X obj 22 16 inlet;
#X obj 22 41 cycle 16 32;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X restore 398 235 pd cuepoints;
#X obj 458 201 sliceplay~ \$0-audio;
#N canvas 650 394 213 314 cuepoints 0;
#X obj 22 285 outlet;
#X obj 49 165 tabread \$0-cuepoints;
#X obj 22 208 tabread \$0-cuepoints;
#X obj 22 253 pack;
#X obj 49 115 * 2;
#X obj 49 139 + 1;
#X obj 22 139 f;
#X obj 22 90 t b f;
#X text 55 60 randomly select a slice;
#X obj 22 16 inlet;
#X obj 22 41 cycle 16 32;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X restore 500 179 pd cuepoints;
#N canvas 694 398 299 314 cuepoints 0;
#X obj 24 233 tabwrite \$0-cuepoints;
#X obj 147 110 +;
#X msg 147 85 1;
#X obj 23 19 inlet;
#X obj 123 185 f;
#X obj 123 207 + 1;
#X obj 57 185 f;
#X obj 23 68 t f b b b;
#X obj 147 158 * 2;
#X obj 90 19 inlet;
#X text 22 258 write pairs of start- and stop points;
#X floatatom 169 200 5 0 0 0 - - -, f 5;
#X floatatom 169 224 5 0 0 0 - - -, f 5;
#X obj 23 42 change;
#X obj 147 133 % 16;
#X connect 1 0 14 0;
#X connect 2 0 1 0;
#X connect 3 0 13 0;
#X connect 4 0 5 0;
#X connect 5 0 0 1;
#X connect 5 0 12 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 7 0 6 1;
#X connect 7 1 4 0;
#X connect 7 2 6 0;
#X connect 7 3 2 0;
#X connect 8 0 4 1;
#X connect 8 0 0 1;
#X connect 8 0 11 0;
#X connect 9 0 13 0;
#X connect 13 0 7 0;
#X connect 14 0 1 1;
#X connect 14 0 8 0;
#X restore 23 160 pd cuepoints;
#X obj 62 223 loadbang;
#X obj 632 342 +~;
#X obj 600 314 *~ 0.25;
#X obj 521 433 r main-vol;
#X obj 58 21 r input-gain;
#X obj 29 100 hip~ 20;
#X msg 279 266 bang;
#X msg 221 265 bang;
#X msg 175 267 bang;
#X obj 662 237 delread~ \$0-echo1 5400;
#X obj 626 398 delwrite~ \$0-echo1 5333.33;
#X obj 662 262 *~ 0.5;
#X obj 586 200 sliceplay~ \$0-audio;
#N canvas 650 394 213 314 cuepoints 0;
#X obj 22 285 outlet;
#X obj 49 165 tabread \$0-cuepoints;
#X obj 22 208 tabread \$0-cuepoints;
#X obj 22 253 pack;
#X obj 49 115 * 2;
#X obj 49 139 + 1;
#X obj 22 139 f;
#X obj 22 90 t b f;
#X text 55 60 randomly select a slice;
#X obj 22 16 inlet;
#X obj 22 41 cycle 16 32;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X restore 628 178 pd cuepoints;
#X obj 137 469 unpack f f f f f;
#X obj 259 151 t f f f b b;
#X obj 459 474 *~;
#X msg 323 444 0.5 1 2 1.5 1.3333;
#X msg 296 475 1 1 1 1 1;
#X msg 299 503 0.8 0.9 1.1 1 1;
#X msg 38 259 0.5 0.875 0.75 1 1;
#X obj 31 424 declare -path internals;
#X obj 276 15 table \$0-cuepoints 32;
#X msg 597 64 \; main-vol-r 1 \; pd dsp 1;
#X obj 725 29 keyname;
#X obj 729 134 spigot;
#X msg 757 85 1;
#X msg 838 115 0;
#X obj 761 63 sel Shift_L Shift_R;
#X obj 728 169 s input-gain;
#X obj 722 477 s recording;
#X msg 724 447 color 16 0 0;
#X msg 813 447 color 13 22 0;
#X obj 815 400 r input-gain;
#X obj 809 423 sel 1 0;
#X obj 851 203 key;
#X obj 851 248 sel 114;
#X obj 851 282 s recout-rcv;
#X obj 603 499 r recout-send;
#X obj 594 528 sel 1 0;
#X msg 550 565 color 16 0 0;
#X msg 639 565 color 13 22 0;
#X obj 601 595 s recout-rcv;
#X msg 335 597 open slice-\$1 \, start;
#X msg 456 569 stop;
#X obj 334 570 int;
#X obj 362 570 + 1;
#X obj 389 570 t f f;
#X obj 416 535 writesf~ 2;
#X obj 906 415 loadbang;
#X obj 260 124 abl_link~ 1 0 8 360;
#X msg 270 99 connect 1;
#X obj 266 76 loadbang;
#X connect 0 0 27 0;
#X connect 0 1 27 1;
#X connect 2 0 33 0;
#X connect 3 0 2 0;
#X connect 3 1 2 0;
#X connect 4 0 51 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 36 0;
#X connect 8 0 9 0;
#X connect 9 0 35 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 34 0;
#X connect 13 0 11 0;
#X connect 14 0 30 0;
#X connect 15 0 14 1;
#X connect 17 0 16 0;
#X connect 17 0 76 0;
#X connect 18 0 19 0;
#X connect 19 0 17 1;
#X connect 19 0 44 1;
#X connect 20 0 30 0;
#X connect 21 0 20 1;
#X connect 22 0 0 0;
#X connect 23 0 30 0;
#X connect 24 0 23 1;
#X connect 25 0 17 0;
#X connect 26 0 25 1;
#X connect 28 0 48 0;
#X connect 29 0 17 0;
#X connect 29 0 38 0;
#X connect 29 0 44 0;
#X connect 30 0 29 0;
#X connect 31 0 18 0;
#X connect 32 0 2 1;
#X connect 33 0 0 0;
#X connect 34 0 24 0;
#X connect 35 0 21 0;
#X connect 36 0 15 0;
#X connect 37 0 39 0;
#X connect 39 0 29 1;
#X connect 40 0 44 0;
#X connect 41 0 40 1;
#X connect 42 0 14 0;
#X connect 42 1 20 0;
#X connect 42 2 23 0;
#X connect 42 3 25 0;
#X connect 42 4 40 0;
#X connect 43 0 5 0;
#X connect 43 1 10 0;
#X connect 43 2 13 0;
#X connect 43 3 26 0;
#X connect 43 4 41 0;
#X connect 44 0 16 1;
#X connect 44 0 76 1;
#X connect 45 0 42 0;
#X connect 46 0 42 0;
#X connect 47 0 42 0;
#X connect 48 0 42 0;
#X connect 52 0 53 0;
#X connect 52 1 56 0;
#X connect 53 0 57 0;
#X connect 54 0 53 1;
#X connect 55 0 53 1;
#X connect 56 0 54 0;
#X connect 56 1 54 0;
#X connect 56 2 55 0;
#X connect 59 0 58 0;
#X connect 60 0 58 0;
#X connect 61 0 62 0;
#X connect 62 0 59 0;
#X connect 62 1 60 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 67 0 73 0;
#X connect 67 1 69 0;
#X connect 67 1 72 0;
#X connect 68 0 70 0;
#X connect 69 0 70 0;
#X connect 71 0 76 0;
#X connect 72 0 76 0;
#X connect 73 0 74 0;
#X connect 74 0 75 0;
#X connect 75 0 71 0;
#X connect 75 1 73 1;
#X connect 77 0 60 0;
#X connect 78 0 43 0;
#X connect 79 0 78 0;
#X connect 80 0 79 0;
#X restore 52 161 pd internals;
#X obj 180 25 vsl 15 128 0 1 0 0 main-vol main-vol-r empty 0 -9 0 10
-4032 -1 -1 12700 1;
#X text 169 165 VOLUME;
#X obj 35 23 tgl 100 0 FOOBAR recording empty 17 7 0 10 -258699 -1
-262144 1 1;
#X text 24 130 HOLD SHIFT TO RECORD;
#X obj 240 58 tgl 15 0 recout-send recout-rcv empty 17 7 0 10 -258699
-1 -262144 0 1;
#X text 222 86 PRESS R TO;
#X text 222 102 SAVE AUDIO;
#X text 222 119 TO WAV FILE;
